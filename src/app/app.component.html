<!-- src/app/app.component.html -->


<div *ngIf="!user" id="okta-login-container"></div>
<div *ngIf="user">
  <mat-toolbar>
    <mat-toolbar-row>
      <b>A Test</b>

      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="ping()">
          <small>{{user}}</small>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item routerLink="/">
          <mat-icon>home</mat-icon>
          <span>Home</span>
        </button>
        <button mat-menu-item routerLink="/environments">
          <mat-icon>computer</mat-icon>
          <span>Environments</span>
        </button>
        <button mat-menu-item routerLink="/results">
          <mat-icon>assignment_returned</mat-icon>
          <span>Results</span>
        </button>
        <button mat-menu-item routerLink="/settings">
          <mat-icon>settings</mat-icon>
          <span>Settings</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item routerLink="Suite/0">
          <mat-icon>shop_two</mat-icon>
          <span>New Suite</span>
        </button>
        <button mat-menu-item routerLink="Case/0">
          <mat-icon>next_week</mat-icon>
          <span>New Case</span>
        </button>
        <button mat-menu-item routerLink="OUT/0">
          <mat-icon>picture_in_picture</mat-icon>
          <span>New OUT</span>
        </button>
        <button mat-menu-item routerLink="Data/0">
          <mat-icon>library_books</mat-icon>
          <span>New Data</span>
        </button>
        <button mat-menu-item (click)="logout()">
          <mat-icon>exit_to_app</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>

      <span class="toolbar-spacer"></span>
      <mat-form-field [style.fontSize.px]="14">
        <mat-select placeholder="Type" multiple>
          <mat-option>-- None --</mat-option>
          <mat-optgroup [label]="Script">
            <mat-option value="Suite">Suite</mat-option>
            <mat-option value="Case">Case</mat-option>
            <mat-option value="Data">Data</mat-option>
          </mat-optgroup>
          <mat-optgroup [label]="Environment">
            <mat-option value="Idle">Idle</mat-option>
            <mat-option value="Running">Running</mat-option>
          </mat-optgroup>
          <mat-optgroup [label]="Result">
            <mat-option value="24h">Last 24 Hours</mat-option>
            <mat-option value="-1w">From Last Week</mat-option>
          </mat-optgroup>
        </mat-select>
      </mat-form-field>
      <mat-form-field [style.fontSize.px]="14">
        <input matInput type="text" placeholder="Search" (keyup.enter)="onEnter()" required minlength="3" [(ngModel)]="searchString"
        />
        <button mat-button *ngIf="searchString" matSuffix mat-icon-button aria-label="Clear" (click)="clear()">
          <mat-icon>close</mat-icon>
        </button>
        <button mat-button *ngIf="searchString" matSuffix mat-icon-button aria-label="Search" (click)="search()">
          <mat-icon>search</mat-icon>
        </button>

      </mat-form-field>
      <span>&nbsp;&nbsp;</span>
      <button class="mat-raised-button" mat-icon-button [matMenuTriggerFor]="menu">
        <mat-icon>account_box</mat-icon>
      </button>
    </mat-toolbar-row>
  </mat-toolbar>
  <div class="row" *ngIf="results?.length > 0">
    <!-- <mat-accordion>
      <mat-expansion-panel> -->
    <ng-container *ngFor="let result of results">
      <app-simple-view [data]="result"></app-simple-view>
    </ng-container>
    <!-- </mat-expansion-panel>
    </mat-accordion> -->
  </div>

  <router-outlet></router-outlet>
</div>